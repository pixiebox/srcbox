(function(){var a={newItems:[],devicePixelRatio:function(){return window.devicePixelRatio||1},lazyElems:[],breakpoint:0,currentBreakpoint:0,breakpointVal:0,viewPortWidth:0,forEach:function(b,a,c){if("[object Object]"===Object.prototype.toString.call(b))for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&a.call(c,b[e],e,b);else{e=0;for(var f=b.length;e<f;e++)a.call(c,b[e],e,b)}},extend:function(b,d){var c={};a.forEach(b,function(a,d){c[d]=b[d]});a.forEach(d,function(b,a){c[a]=d[a]});return c},
getViewportWidthInCssPixels:function(){for(var b=Math,a=[window.innerWidth,window.document.documentElement.clientWidth,window.document.documentElement.offsetWidth,window.document.body.clientWidth],c=0,e,f=window.screen.width;c<a.length;c++)isNaN(a[c])&&(a.splice(c,1),c--);a.length&&(e=b.max.apply(b,a),isNaN(f)||(e=b.min(f,e)));return e||f||0},getBreakpoint:function(b,a){for(var c=a,e=0,f={},g,h,l,k;g=b[e];){k=g.minWidth;h=g.maxWidth;l="minDevicePixelRatio"in g?g.minDevicePixelRatio:0;if(0<a){if(k&&
h&&a>=k&&a<=h||k&&!h&&a>=k||h&&!k&&a<=h)if(!l||l&&devicePixelRatio>=l)f=g}else if(0>=c||k<c||h<c)c=k||h||c,f=g;e++}return f},setBreakpoint:function(b,d){var c=b.getAttribute("data-breakpoint"),e=b.getAttribute("data-img");if(!c||!e)throw Error('srcBox.js [function setBreakpoint]: The provided elements are missing a data-breakpoint or data-img attribute: <img data-breakpoint="/path/to/folder/{breakpoint}" data-img="some-img.jpg" />');c=c.replace("{breakpoint-name}",d)+b.getAttribute("data-img");/(^|\s)lag(\s|$)/.test(b.className)?
(b.setAttribute("data-lag-src",c),a.lazyElems.push(b)):(b.src=c,b.removeAttribute("height"))},addEvent:function(b,a,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a[b]=c},removeEvent:function(a,d,c){d.removeEventListener?d.removeEventListener(a,c,!1):d.detachEvent?d.detachEvent("on"+a,c):d.splice(a,1)},scrollPos:function(){return[void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,void 0!==
window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft]},offset:function(a,d){a=a.getBoundingClientRect();switch(d){case "left":return a.left;case "top":return a.top;default:return 0}},belowthefold:function(a){return(window.innerHeight?window.innerHeight:Math.max(document.documentElement.clientHeight,document.body.clientHeight))+scrollPos()[0]<=offset(a,"top")},rightoffold:function(b){return(window.innerWidth?window.innerWidth:Math.max(document.documentElement.clientWidth,
document.body.clientWidth))+a.scrollPos()[1]<=a.offset(b,"left")},abovethetop:function(b){return a.scrollPos()[0]>=a.offset(b,"top")+b.height},leftofbegin:function(b){return a.scrollPos()[1]>=a.offset(b,"left")+b.width},inviewport:function(b){return!a.rightoffold(b)&&!a.leftofbegin(b)&&!a.belowthefold(b)&&!a.abovethetop(b)},setLazySrc:function(){for(var b=a.lazyElems.length;b--;)a.inviewport(a.lazyElems[b])&&(a.lazyElems[b].src=a.lazyElems[b].getAttribute("data-lag-src"),a.lazyElems[b].removeAttribute("height"),
a.lazyElems.splice(b,1));a.lazyElems.length||a.removeEvent("scroll",window,a.setLazySrc)},debounce:function(a,d,c){var e;return function(){var f=this,g=arguments,h=c&&!e;clearTimeout(e);e=setTimeout(function(){e=null;c||a.apply(f,g)},d);h&&a.apply(f,g)}},setImage:function(b,d){if("IMG"===b.nodeName){var c=a.getBreakpoint(d.breakpoints,b.parentNode.offsetWidth);a.setBreakpoint(b,"minDevicePixelRatio"in c?c.maxWidth:c.folder-0)}},setImages:function(b,d){viewPortWidth=a.getViewportWidthInCssPixels();
breakpoint=a.getBreakpoint(d.breakpoints,viewPortWidth);breakpointVal="minDevicePixelRatio"in breakpoint?breakpoint.maxWidth:breakpoint.folder-0;a.currentBreakpoint!==breakpointVal&&(a.currentBreakpoint=breakpointVal,b.constructor===NodeList?a.forEach(b,function(c,e){a.setImage(b[e],d)}):a.setImage(b,d),a.addEvent("scroll",window,a.setLazySrc))},waitForNew:function(b){b.cancelBubble=!0;b.stopPropagation&&b.stopPropagation();var d;"IMG"===b.target.nodeName?(d=b.target,a.newItems.push(d)):b.target.querySelector&&
(d=b.target.querySelectorAll("img"),a.forEach(d,function(b,e){a.newItems.push(d[e])}))},supportsOrientationChange:function(){return"ontouchstart"in window},orientationEvent:function(){return supportsOrientationChange?"orientationchange":"resize"}};Object.defineProperty(Object.prototype,"srcBox",{value:function(b){var d=this,c={},e={breakpoints:[{folder:"480",maxWidth:480},{folder:"640",minWidth:481,maxWidth:767},{folder:"900",minWidth:768,maxWidth:900},{folder:"1170",minWidth:992},{folder:"900",minWidth:748,
maxWidth:1024},{folder:"640",maxWidth:320,minDevicePixelRatio:2},{folder:"900",minWidth:320,maxWidth:667,minDevicePixelRatio:2},{folder:"2048",minWidth:414,maxWidth:736,minDevicePixelRatio:3},{folder:"2048",minWidth:748,maxWidth:1024,minDevicePixelRatio:2}]},c="object"===typeof b?a.extend(e,b):e,f,g=function l(){f--;if(!f)c.onNewNode();a.removeEvent("load",this,l)};a.setImages(this,c);a.setLazySrc();a.addEvent("scroll",window,a.setLazySrc);a.addEvent(a.orientationEvent,window,a.debounce(function(){a.setImages(d,
c)},250));"onNewNode"in c&&a.addEvent("load",window,function(){a.addEvent("DOMNodeInserted",document,a.debounce(function(){if(f=a.newItems.length)a.forEach(a.newItems,function(b,d){/[ws]*(srcbox)+[ws]*/.test(a.newItems[d].className)&&(a.setImage(a.newItems[d],c),a.addEvent("load",a.newItems[d],g))}),a.newItems.splice(0,a.newItems.length)},250));a.addEvent("DOMNodeInserted",document,a.waitForNew)})},enumerable:!1})})();